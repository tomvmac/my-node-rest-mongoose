<!-- public/index.html -->
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <base href="/">

    <title>Starter Node and Angular</title>

    <!-- CSS -->
    <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css"> <!-- custom styles -->

    <!-- JS -->
      <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>

</head>
   <body>
      <h2>Persons Page</h2>
      <div ng-app = "" ng-controller = "personController">
      
         <div>
               <h3>Filter Persons</h3>
               <p>
               FirstName: <input type="text" ng-model="firstNameFilter">
               </p>
               <p>
               LastName: <input type="text" ng-model="lastNameFilter">
               </p>   
         </div>   
         <br/>

         <table>
            <tr>
               <th>First Name</th>
               <th>Last Name</th>
               <th>Age</th>
               <th>Sex</th>
            </tr>
         
            <tr ng-repeat = "person in persons  | filter: firstNameFilter | filter:lastNameFilter |orderBy:'firstName'">
               <td>{{ person.firstName }}</td>
               <td>{{ person.lastName }}</td>
               <td>{{ person.age }}</td>
               <td>{{ person.sex }}</td>
            </tr>
         </table>
      </div>
      
      <script>
         function personController($scope,$http) {
            var url = "/api/person";
         
            $http.get(url).success( function(response) {
               $scope.persons = response;
            });
         }
      </script>
            
   </body>
</html>